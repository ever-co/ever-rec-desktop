@if (screenshot) {
  <mat-card
    class="card"
    appearance="outlined"
  >
    <div class="screenshot-container p-4">
      <img
        mat-card-image
        [src]="screenshot.pathname"
        alt="Screenshot"
        class="w-full h-auto object-cover rounded-md"
      />
      <div class="overlay flex items-end flex-col gap-2 justify-between">
        <button [matMenuTriggerFor]="menu" mat-icon-button>
          <mat-icon>more_horiz</mat-icon>
        </button>
      </div>
    </div>

    <mat-card-content>
      <div class="flex gap-4 w-full items-center">
        @if (screenshot.metadata?.icon) {
        <img
          mat-card-avatar
          [src]="screenshot.metadata?.icon"
          [alt]="screenshot.metadata?.name"
          class="w-10 h-10 rounded-full object-cover"
        />
        }
        <div class="flex-1 min-w-0">
          @if (screenshot.metadata?.name) {
          <div class="text-lg font-medium truncate">
            {{ screenshot.metadata?.name }}
          </div>
          }
          <div class="text-sm text-gray-500 truncate">
            {{ screenshot.createdAt | utcToLocalTime }}
          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-menu #menu="matMenu">
    <button (click)="view()" mat-menu-item>
      <mat-icon>visibility</mat-icon>
      <span>View</span>
    </button>
    <button (click)="delete(screenshot)" mat-menu-item>
      <mat-icon color="warn">delete</mat-icon>
      <span>Delete</span>
    </button>
  </mat-menu>
}
