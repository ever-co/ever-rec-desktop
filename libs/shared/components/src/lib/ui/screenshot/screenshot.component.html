@if (screenshot) {
<mat-card class="card" appearance="outlined">
  <div class="screenshot-container p-4">
    <img
      mat-card-image
      [src]="screenshot.pathname"
      alt="Screenshot"
      class="w-full h-auto object-cover rounded-md"
    />
    <div
      class="overlay flex items-end flex-col gap-2 justify-between text-gray-700 rounded-lg hover:bg-gray-100 transition-colors duration-200"
    >
      <button [libPopover]="menu" mat-icon-button>
        <mat-icon>more_vert</mat-icon>
      </button>
    </div>
  </div>

  <mat-card-content>
    <div class="flex gap-4 w-full items-center">
      @if (screenshot.metadata?.icon) {
      <img
        mat-card-avatar
        [src]="screenshot.metadata?.icon"
        [alt]="screenshot.metadata?.name"
        class="w-10 h-10 rounded-full object-cover"
      />
      }
      <div class="flex-1 min-w-0">
        @if (screenshot.metadata?.name) {
        <div class="text-lg font-medium truncate">
          {{ screenshot.metadata?.name }}
        </div>
        }
        <div class="text-sm text-gray-500 truncate">
          {{ screenshot.createdAt | utcToLocalTime }}
        </div>
      </div>
    </div>
  </mat-card-content>
</mat-card>

<!-- Enhanced Menu -->
<ng-template #menu>
  <lib-action-button-group
    [data]="screenshot"
    [buttons]="actionButtons"
  ></lib-action-button-group>
</ng-template>
}
