<div class="p-4 rounded-lg ">
  <div class="text-lg flex items-center gap-1 font-semibold mb-4">
    <mat-icon matTooltip="Bubble size represents relative sample size.">info</mat-icon>
    Effect Size Matrix
  </div>
  <div class="chart-container max-h-96 min-h-72 h-full" (window:resize)="onResize($event)">
    <ngx-charts-bubble-chart [scheme]="colorScheme" [results]="processedData" [xAxis]="showXAxis" [yAxis]="showYAxis"
      [legend]="showLegend" [xAxisLabel]="xAxisLabel" [yAxisLabel]="yAxisLabel" [showGridLines]="showGridLines"
      [roundDomains]="roundDomains" [maxRadius]="maxRadius" [animations]="true"
      aria-label="Effect size matrix visualization">
      <ng-template #tooltipTemplate let-model="model">
        <div class="p-2 flex flex-col items-start justify-items-start">
          <div class="font-bold text-lg">{{ model.series }}</div>
          <div>Effect Size: {{ model.x.toFixed(2) }}</div>
          <div>Confidence: {{ (model.y * 100).toFixed(0) }}%</div>
          <div>Sample Size: {{ model.r | number }}</div>
        </div>
      </ng-template>
    </ngx-charts-bubble-chart>
  </div>
  <div class="mt-4 text-sm text-gray-500">
    @if (data.length === 0) {
      <p class="text-amber-600">
        No data available to display.
      </p>
    }
  </div>
</div>