@if (screenshot$ | async; as screenshot) {
<div class="flex lg:flex-row justify-center items-start flex-col gap-4">
  <div class="flex justify-center w-full lg:w-2/3 items-center rounded-lg">
    <img
      [src]="screenshot.pathname"
      alt="Screenshot"
      class="max-w-full h-auto rounded-md"
    />
  </div>
  <div class="flex flex-col w-full lg:w-1/3 gap-4">
    <div class="flex gap-2">
      @if(screenshot.metadata?.icon) {
      <img
        mat-card-avatar
        [src]="screenshot.metadata?.icon"
        [alt]="screenshot.metadata?.name"
        class="w-10 h-10 rounded-full"
      />
      }
      <div>
        @if(screenshot.metadata?.name) {
        <div class="text-lg font-medium">
          {{ screenshot.metadata?.name }}
        </div>
        }
        <div class="text-sm text-gray-500">
          <span>{{ screenshot.createdAt | utcToLocalTime }}</span>
          <span class="mx-1">|</span>
          <span>{{ screenshot.metadata?.size | humanizeBytes }}</span>
        </div>
      </div>
      <div
        class="flex items-end h-fit ml-auto flex-col gap-2 justify-between text-gray-700 rounded-lg hover:bg-gray-100 transition-colors duration-200"
      >
        <button [libPopover]="menu" mat-icon-button>
          <mat-icon>more_vert</mat-icon>
        </button>
      </div>
    </div>
    <!-- description -->
    @if(screenshot.metadata?.description) {
    <div class="text-sm text-gray-500">
      {{ screenshot.metadata?.description }}
    </div>
    }

    <!-- video card -->
    @if(screenshot.video; as video) {
    <!-- tags -->
    <mat-chip-set aria-label="screenshot min-w-0 tags">
      <mat-chip>Associate Video</mat-chip>
    </mat-chip-set>
    <lib-video class="max-w-80" [video]="video"></lib-video>
    }
  </div>
</div>
<ng-template #menu>
  <div class="flex flex-col p-2 rounded-xl bg-gray-50 shadow-lg">
    <button
      class="group flex items-center rounded-lg hover:bg-gray-200 p-2 transition-colors duration-200"
    >
      <mat-icon class="group-hover:text-gray-600 transition-colors duration-200">copy</mat-icon>
      <span class="text-sm font-medium text-gray-700 group-hover:text-gray-900">Duplicate</span>
    </button>
    <button
      class="group flex items-center rounded-lg hover:bg-red-50 p-2 transition-colors duration-200"
      (click)="delete(screenshot)"
    >
      <mat-icon
        color="warn"
        class="group-hover:text-red-600 transition-colors duration-200"
        >delete</mat-icon
      >
      <span class="text-sm font-medium text-gray-700 group-hover:text-red-600"
        >Delete</span
      >
    </button>
  </div>
</ng-template>
}@else {
<lib-no-data
  class="min-h-96 flex justify-center items-center"
  message="No screenshot available"
></lib-no-data>
}
