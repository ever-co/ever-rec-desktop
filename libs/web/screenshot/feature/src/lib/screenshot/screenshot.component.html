@if (screenshot$ | async; as screenshot) {
<div class="max-w-7xl mx-auto bg-white rounded-3xl overflow-hidden">
  <div class="flex flex-col lg:flex-row">
    <!-- Screenshot Display Section -->
    <div class="w-full lg:w-2/3 p-4">
      <div
        class="rounded-xl overflow-hidden bg-gray-800 flex items-center justify-center transform transition-transform duration-300 scale-[0.99] hover:scale-[1.00]"
      >
        <img
          [src]="screenshot.pathname"
          alt="Screenshot"
          class="max-w-full h-auto"
        />
      </div>
    </div>

    <!-- Metadata Section -->
    <div class="w-full lg:w-1/3 bg-gray-100 p-4">
      <div class="flex items-start gap-4 mb-4">
        @if(screenshot.metadata?.icon) {
        <img
          [src]="screenshot.metadata?.icon"
          [alt]="screenshot.metadata?.name"
          class="w-12 h-12 rounded-full shadow-md"
        />
        }
        <div class="flex-grow">
          @if(screenshot.metadata?.name) {
          <div class="text-xl font-bold text-gray-800 mb-1">
            {{ screenshot.metadata?.name }}
          </div>
          }
          <div class="text-sm text-gray-600 flex items-center flex-wrap">
            <span class="mr-2">{{
              screenshot.createdAt | utcToLocalTime
            }}</span>
            <span class="text-gray-400 mr-2">â€¢</span>
            <span>{{ screenshot.metadata?.size | humanizeBytes }}</span>
          </div>
        </div>
        <button
          [libPopover]="menu"
          mat-icon-button
          class="text-gray-500 hover:text-gray-700 transition-colors"
        >
          <mat-icon>more_vert</mat-icon>
        </button>
      </div>

      @if(screenshot.metadata?.description) {
        <div class="bg-white rounded-xl p-4 mb-4">
          <div class="flex items-center justify-between mb-2">
            <div>Description</div>
            <div
              [libCopyToClipboard]="screenshot.metadata?.description || ''"
              class="text-lg font-semibold text-gray-700"
            >
            </div>
          </div>
          <p class="text-gray-600">{{ screenshot.metadata?.description }}</p>
        </div>
      } @if(screenshot.video; as video) {
      <div class="bg-white rounded-xl p-4">
        <div class="text-lg font-semibold text-gray-600 mb-2">
          Associated Video
        </div>
        <lib-video
          class="w-full rounded-lg overflow-hidden"
          [video]="video"
        ></lib-video>
      </div>
      }
    </div>
  </div>
</div>

<ng-template #menu>
  <lib-action-button-group
    [data]="screenshot"
    [buttons]="actionButtons"
  ></lib-action-button-group>
</ng-template>
} @else {
<div
  class="min-h-screen flex justify-center items-center bg-gradient-to-br from-gray-50 to-gray-100"
>
  <div class="bg-white p-8 rounded-2xl shadow-xl">
    <lib-no-data
      class="text-gray-700"
      message="No screenshot available"
    ></lib-no-data>
  </div>
</div>
}
