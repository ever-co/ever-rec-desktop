<mat-sidenav-container class="flex flex-col md:flex-row h-screen bg-gray-50">
  <mat-sidenav
    [mode]="isMobileView ? 'over' : 'side'"
    [(opened)]="isExpanded"
    class="w-full md:w-48 bg-whiteborder-gray-200 md:flex md:flex-col sidenav"
  >
    <div class="p-6 pr-2 border-b border-gray-200">
      <div class="flex items-center gap-2">
        <mat-icon class="text-gray-700">terminal</mat-icon>
        <span class="text-xl text-gray-700 font-semibold">Ever Capture</span>
        @if(isMobileView){
        <button class="ml-auto" mat-icon-button (click)="toggleSidenav()">
          <mat-icon>close</mat-icon>
        </button>
        }
      </div>
    </div>
    <!-- Date Picker -->
    @if(isMobileView) {
      <div class="pl-2 pr-2 pt-4 pb-4 border-b border-gray-200">
        <lib-date-picker></lib-date-picker>
      </div>
    }
    <!-- Navigation Menu -->
    <lib-sidebar class="flex-grow"></lib-sidebar>
    <!-- command -->
    <div
      class="border-t p-4 items-center justify-center w-full border-gray-200 flex flex-col gap-4 mt-auto"
    >
      <lib-start></lib-start>
    </div>
  </mat-sidenav>

  <!-- Main Content -->
  <mat-sidenav-content class="flex border-l flex-col">
    <!-- Search Header -->
    <header
      class="p-4 gap-4 flex items-center justify-start border-b border-gray-200 bg-white"
    >
      @if(!isExpanded) {
      <button mat-icon-button (click)="toggleSidenav()">
        <mat-icon>menu</mat-icon>
      </button>
      }
      <div class="w-full flex-shrink-1">
        <lib-search></lib-search>
      </div>
      @if(!isMobileView) {
        <div class="flex-shrink-0">
          <lib-date-picker></lib-date-picker>
        </div>
      }
    </header>
    <!-- Content Area -->
    <div class="p-4 md:p-8">
      <!-- breadcrumb -->
      <lib-breadcrumb></lib-breadcrumb>
      <!-- Router outlet -->
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
