<form [formGroup]="form" (ngSubmit)="submitForm()" class="w-full">
  <mat-form-field appearance="outline" class="w-full">
    <mat-label>Password</mat-label>
    <input
      matInput
      [type]="passwordInputType()"
      formControlName="password"
      placeholder="Enter your password"
      autocomplete="new-password"
      required
      aria-label="Password"
    />
    <button
      mat-icon-button
      matSuffix
      type="button"
      (click)="togglePasswordVisibility()"
      [attr.aria-label]="showPassword() ? 'Hide password' : 'Show password'"
    >
      <mat-icon>{{
        showPassword() ? 'visibility' : 'visibility_off'
      }}</mat-icon>
    </button>
    @if (passwordRequired) {
      <mat-error>Password is required.</mat-error>
    }
    @if (passwordMinLength) {
      <mat-error>Password must be at least 8 characters.</mat-error>
    }
    @if (passwordPattern) {
      <mat-error>
        Password must contain at least one uppercase letter, one lowercase
        letter, one number, and one special character.
      </mat-error>
    }
  </mat-form-field>

  <div class="w-fit mt-2 flex justify-center align-center">
    <lib-action-button
      class="w-fit"
      [button]="buttonSubmit"
    ></lib-action-button>
    @if (config()?.showCancel) {
      <lib-action-button
        class="w-fit"
        [button]="buttonCancel"
      ></lib-action-button>
    }
  </div>
</form>
