@let loading = loading$ | async;

<div class="login-container">
  <div class="login-card">
    <div class="login-header">
      <mat-icon
        class="login-icon"
        aria-hidden="false"
        aria-label="Login icon"
        >{{ env.icon }}</mat-icon
      >
      <h1 class="login-title">Welcome back</h1>
      <p class="login-subtitle">Sign in to your account to continue</p>
    </div>

    <lib-login-form
      class="w-full"
      [loading]="loading && !isGoogle()"
      (signInWithEmail)="signInWithEmail($event)"
    ></lib-login-form>

    <div class="login-divider">
      <span class="login-divider-line"></span>
      <span class="login-divider-text">OR</span>
      <span class="login-divider-line"></span>
    </div>

    <button
      mat-flat-button
      class="google-login-btn"
      (click)="signInWithGoogle()"
    >
      @if (loading && isGoogle()) {
        <mat-icon><mat-spinner diameter="20"> </mat-spinner></mat-icon>
      } @else {
        <img
          src="assets/icons/google.webp"
          alt="Google logo"
          class="google-icon"
        />
      }
      Continue with Google
    </button>

    <div class="login-footer">
      <span>Don't have an account?</span>
      <a class="signup-link" routerLink="/signup">Sign up</a>
    </div>
  </div>
</div>
