@if (isAvailable$ | async) {
<div class="container">
  <div class="row">
    <div class="image-now">
      <lib-video #videoContainer remote="true" class="timeline"></lib-video>
    </div>
  </div>
  <div class="row">
    <div (scroll)="onScroll($event)" #timelineContainer class="image-container shadow-inner bg-indigo-50 p-2 pl-0 pr-0 rounded-lg">
      @for (screenshot of screenshots$ | async; track screenshot.id; let idx =
      $index, isFirst=$first, isLast=$last) {
      <div (click)="jumpTo(screenshot)" class="line-container">
        @if (screenshot.metadata?.icon) {
        <div
          [ngStyle]="{ width: screenshot.xTimeIcon * screenshot.width + 'px' }"
          class="line-image"
        >
          <img
            class="image transition ease-in-out delay-100 hover:scale-110"
            [matTooltip]="screenshot.metadata?.name"
            [src]="screenshot.metadata?.icon"
            alt="screenshot"
          />
        </div>
        }
        <div
          [ngStyle]="{
            width: screenshot.xTimeIcon * screenshot.width + 'px'
          }"
          [ngClass]="{ 'radius-left': isFirst, 'radius-right': isLast }"
          class="line"
        ></div>
      </div>
      }
    </div>
    <div class="cursor" [style.left.%]="percentage$ | async"></div>
  </div>
</div>
} @else {
<lib-no-data
  class="min-h-96 flex justify-center items-center"
  [message]="
    (generating$ | async)
      ? 'Generating timeline in progressâ€¦'
      : 'No timeline available'
  "
></lib-no-data>
<lib-progress class="w-full max-w-md"></lib-progress>
}
